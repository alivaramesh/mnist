Instructions to use to the repo:

1- The Anaconda environment we have used for all the experiments is provided at "environment.yml".
If you are using Anaconda, run the follwoing command to set up the environment:
(keep in mind that this environment is not minmimalistic and may contan unncessary packages)
$ conda env create -f environment.yml
Then you can activate it using:
$ source activate mnist

1- Move the 5 test variants (t1,t2,t3,t4, and clean) to the following relatiev address: "data/test_sets"

2- For any trainig, a directory will be created in "exps" directory, refered to as "save-dir". 
Name of the directory will reflect the training setting

3- Once trainign is finished, the model will be saved in save-dir in a file named "mnist.pth"

3- The trainign log will be written to a file called "log" in save-dir

4- The results will also be plotted and saved to a "results.jpg" in save-dir

5- Example command to train a model (for more information about the oprtion please refer to the amin.py):
$ cd /path/to/main/repo/dir
$ python main.py --epochs 10  --batch-size 64 --lr 1 --gamma .7 --drop_out none --erase_b .4 --erase_w .4

6- To reproduce the experiments with desired arguments use the bash script "exps.sh" in the main directory

7- We have ran all the experiments on GPU, but for CPU experiments you can poass argument 'no-cuda'

7- To run tests on an existing model, pass argument --test and then provide path to the model using argument 'model-path.'\
This will run the model on the 5 variants and store the predictions in a directory with path <model_path>_test_<time_stamp>.\ 
For each variant there will be a npy file with an array where for each sample the first number is the true class and\
the second number is the prediction. 